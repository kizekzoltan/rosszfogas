{% extends "default/layout.html" %}
{% load static %}

{% block title %} Fiók {% endblock %}

{% block body %}



    <div class="profile-container">
        <h1 class="profile-name" >Üdvözlünk {{ customer.name }}!</h1>
    <div class="profile-info" id="profile-info">
        <h2 class="profile-title">Fiók adatok:</h2> 
        <div class="profile-info-item" id="name-info">
            <p>Full name: {{ customer.firstname }} {{ customer.lastname }}</p>
            <p>Email cím: {{ customer.email }}</p>
        </div>
        <div class="profile-info-item" id="phone-info">
            <p>Telefonszám: {{ customer.phone }}</p>
        </div>
        <div class="profile-info-item" id="location-info">
            <p>Lakcím: {{ customer.location }}</p>
        </div>
        <button onclick="toggleEdit()">Edit</button>
        <div class="profile-line"></div>
        <br>
        <h2 class="profile-title">Hirdetéseid:</h2> 
    </div>


    <div id="profile-edit" style="display: none;">
        <div class="profile-info">
            <h2 class="profile-title">Fiók adatok:</h2> 
            <form method="post" id="edit-form">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Save</button>
            </form>
            <div class="profile-line"></div>
            <br>
            <h2 class="profile-title">Hirdetéseid:</h2> 
        </div>
    </div>



    {% for product in products %}
    <div class="profile-card profile-products">
        <div>
            <img class="thumbnail" src="{{ product.imageURL }}">
        </div>
        <div>
            <h2>Termék neve: {{product.name}}</h2>
            <p>Leírás: {{product.description}}</p>
        </div>
    </div>
    {% endfor %}
</div>



{% endblock %}

{% block scripts %}
<script>
    function toggleEdit() {
        var profileInfo = document.getElementById("profile-info");
        var profileEdit = document.getElementById("profile-edit");
        
        if (profileInfo.style.display === "none") {
            profileInfo.style.display = "block";
            profileEdit.style.display = "none";
        } else {
            profileInfo.style.display = "none";
            profileEdit.style.display = "block";
        }
    }
</script>
{% endblock %}