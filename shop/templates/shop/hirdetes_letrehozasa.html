{% extends "default/layout.html" %}
{% load static %}
{% load humanize %}

{% block sytlesheets %}
<style>
    .centered {
        position: absolute;
        top: 50%;
        left: 70%;
        transform: translate(-50%, -50%);
    }
    .container {
        position: relative;
    }
    .register-button {
        width: 100%;
        background-color: #fff;
        color: #F77C01;
        border: 2px solid #F77C01;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
    }
    .register-button:hover {
        background-color: #F77C01;
        color: #fff
    }

    .green-border {
    border: 5px solid rgb(0, 255, 0);
    border-radius: 5px;
    animation: border-animation 3s forwards; /* Apply animation */
    }

    .grey-border {
        border: 5px solid #ccc;
        border-radius: 5px;
    }

    @keyframes border-animation {
        0% { border-color: rgb(0, 255, 0); }
        100% { border-color: #ccc; }
    }
</style>
{% endblock %}

{% block title %} Hirdetés létrehozása {% endblock %}

{% block body %}


<div class="row">
    <form id="form" method="post" action="{% url 'hirdetes_letrehozasa' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="col-lg-8 mx-auto" style="margin-top: 20px;">
            <div class="box-element" id="form-wrapper">
                <div id="user-info">
                    <br>
                    <h2 style="text-align: center;"><strong>Hirdetés feladása:</strong></h2>
                    <br>
                    <hr>
                    <h3><strong>Termék adatok:</strong></h3>
                    <hr>
                    <div class="form-field-desc">
                        <label>Hirdetés címe:</label>
                        {{ form.name }}
                    </div>
                    <div class="form-field-desc">
                        <label>Leírás:</label>
                        {{ form.description }}
                    </div>
                    <div class="form-field">
                        <label>Ára (HUF):</label>
                        {{ form.price }}
                    </div>
                    <div class="form-field">
                        <label>Kategória:</label>
                        {{ form.kategoria }}
                    </div>
                    <hr>
                    <h3><strong>Hol található a termék:</strong></h3>
                    <hr>
                    <div class="form-field">
                        <label>Cím:</label>
                        {{ form.feladocim }}
                    </div>
                    <div class="form-field">
                        <label>Ország:</label>
                        {{ form.feladoorszag }}
                    </div>
                </div>
                <div class="d-grid gap-2">
                </div>
                <hr>
                <h3><strong>Kép hozzáadása:</strong></h3>
                <hr>
                <br>
                <br>
                <div id="user-info" class="container">
                    <div class="form-field">
                        <label for="{{ form.image.id_for_label }}"></label>
                        {{ form.image }}
                        <img id="image-preview" src="#" alt="Image Preview" style="display:none; max-width: 200px; max-height: 200px;">
                    </div>
                </div>
                <br>
                <br>
                <hr>
                
                <div class="payment-info">
                    <div class="form-field-cb" style="margin-left: 230px;">
                        {{ form.terms_checkbox }}
                        <label>Elfogadom a szerződési feltételeket</label>
                    </div>
                </div>
                <button type="submit" class="register-button"><strong>Hirdetés feladása</strong></button>
            </div>
        </div>
    </form>
</div>

{% endblock %}

{% block scripts %}
<script>
    document.getElementById("{{ form.image.id_for_label }}").addEventListener("change", function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const imagePreview = document.getElementById("image-preview");
                imagePreview.src = e.target.result;
                imagePreview.style.display = "block";
                imagePreview.style.marginRight = "3vh";
            }
            reader.readAsDataURL(file);
        }
    });
</script>
{% endblock %}